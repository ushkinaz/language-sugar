<project name="baseLang-sugar-languages" default="pack.baseLanguage.sugar">
  <fail unless="deploy.dir" message="Property deploy.dir unspecified." />
  <target name="pack.baseLanguage.sugar">
    <mkdir dir="/home/dsidorenko/Workspace/private/language-sugar/languages/sugar/classes_gen" />
    <mkdir dir="${deploy.dir}/baseLang-sugar.zip.tmp/baseLang-sugar/baseLanguage.sugar.jar.jtmp" />
    <echoxml file="${deploy.dir}/baseLang-sugar.zip.tmp/baseLang-sugar/baseLanguage.sugar.jar.jtmp/module.xml">
      <module namespace="baseLanguage.sugar" uuid="d965f506-a0c0-43c2-871a-b97ce8f6c751" type="language">
        <dependencies>
          <module ref="1ed103c3-3aa6-49b7-9c21-6765ee11f224(MPS.Editor)" />
          <module ref="2072fe1f-e897-4510-a05d-7c15fed4d692(baseLanguage.sugar#7730107903695441338)" />
          <module ref="2af156ab-65c1-4a62-bd0d-ea734f71eab6(jetbrains.mps.dataFlow.runtime)" />
          <module ref="4c6a28d1-2c60-478d-b36e-db9b3cbb21fb(closures.runtime)" />
          <module ref="6354ebe7-c22a-4a0f-ac54-50b52ab9b065(JDK)" />
          <module ref="6ed54515-acc8-4d1e-a16c-9fd6cfe951ea(MPS.Core)" />
          <module ref="742f6602-5a2f-4313-aa6e-ae1cd4ffdc61(MPS.Platform)" />
          <module ref="83f155ff-422c-4b5a-a2f2-b459302dd215(jetbrains.mps.baseLanguage.unitTest.libs)" />
          <module ref="8fe4c62a-2020-4ff4-8eda-f322a55bdc9f(jetbrains.mps.refactoring.runtime)" />
          <module ref="9b80526e-f0bf-4992-bdf5-cee39c1833f3(collections.runtime)" />
          <module ref="9ded098b-ad6a-4657-bfd9-48636cfe8bc3(jetbrains.mps.lang.traceable)" />
          <module ref="ceab5195-25ea-4f22-9b92-103b95ca8c0c(jetbrains.mps.lang.core)" />
          <module ref="d44dab97-aaac-44cb-9745-8a14db674c03(jetbrains.mps.baseLanguage.tuples.runtime)" />
          <module ref="d965f506-a0c0-43c2-871a-b97ce8f6c751(baseLanguage.sugar)" />
          <module ref="ed6d7656-532c-4bc2-81d1-af945aeb8280(jetbrains.mps.baseLanguage.blTypes)" />
          <module ref="f3061a53-9226-4cc5-a443-f952ceaf5816(jetbrains.mps.baseLanguage)" />
          <module ref="fdb93da0-59ed-4001-b2aa-4fad79ec058e(JDK.Tools)" />
        </dependencies>
        <sources jar="baseLanguage.sugar-src.jar" descriptor="sugar.mpl" />
      </module>
    </echoxml>
    <jar destfile="${deploy.dir}/baseLang-sugar.zip.tmp/baseLang-sugar/baseLanguage.sugar-src.jar" compress="true" duplicate="preserve" filesonly="true">
      <zipfileset dir="/home/dsidorenko/Workspace/private/language-sugar/languages/sugar/source_gen" includes="**/*.java" erroronmissingdir="false" />
      <zipfileset dir="/home/dsidorenko/Workspace/private/language-sugar/languages/sugar/test_gen" includes="**/*.java" erroronmissingdir="false" />
      <zipfileset file="/home/dsidorenko/Workspace/private/language-sugar/languages/sugar/sugar.mpl" prefix="module" />
      <zipfileset dir="/home/dsidorenko/Workspace/private/language-sugar/languages/sugar/generator/template" includes="**/*.mps, **/*.metadata, **/*.history" prefix="module/generator/template" />
      <zipfileset dir="/home/dsidorenko/Workspace/private/language-sugar/languages/sugar/languageModels" includes="**/*.mps, **/*.metadata, **/*.history" prefix="module/languageModels" />
    </jar>
    <jar destfile="${deploy.dir}/baseLang-sugar.zip.tmp/baseLang-sugar/baseLanguage.sugar.jar" compress="true" duplicate="preserve" filesonly="true">
      <zipfileset file="${deploy.dir}/baseLang-sugar.zip.tmp/baseLang-sugar/baseLanguage.sugar.jar.jtmp/module.xml" prefix="META-INF" />
      <zipfileset dir="/home/dsidorenko/Workspace/private/language-sugar/languages/sugar" includes="icons/**, resources/**" />
      <zipfileset dir="/home/dsidorenko/Workspace/private/language-sugar/languages/sugar/classes_gen" />
    </jar>
    <delete dir="${deploy.dir}/baseLang-sugar.zip.tmp/baseLang-sugar/baseLanguage.sugar.jar.jtmp" />
  </target>
</project>
